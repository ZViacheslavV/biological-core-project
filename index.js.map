{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/modal.js","../src/js/header-hide.js","../src/js/header-active-link.js","../src/js/mobile-menu.js","../src/js/button-up.js","../src/js/logo-animation.js"],"sourcesContent":["export const refs = {\n  scrollBtn: document.querySelector('.scroll-to-top'),\n  navLinks: document.querySelectorAll('.header-nav-link'),\n  sections: document.querySelectorAll('section, .footer'),\n  header: document.querySelector('.page-header'),\n  mobileMenu: document.querySelector('.mobile-menu'),\n  burger: document.querySelector('.burger-btn'),\n  closeBtn: document.querySelector('.close-btn'),\n  logo: document.querySelector('.header-logo'),\n};\n","(() => {\n  const setupModal = name => {\n    const modal = document.querySelector(`[data-modal-${name}]`);\n    const openBtn = document.querySelector(`[data-modal-open-${name}]`);\n    const closeBtn = document.querySelector(`[data-modal-close-${name}]`);\n\n    if (!modal || !openBtn || !closeBtn) return;\n\n    const toggle = () => {\n      const isOpen = modal.classList.toggle('is-open');\n      if (isOpen) {\n        attachListeners();\n        document.body.style.overflow = 'hidden';\n      } else {\n        detachListeners();\n        document.body.style.overflow = '';\n      }\n    };\n\n    const handleBackdropClick = e => {\n      if (e.target === modal) toggle();\n    };\n\n    const attachListeners = () => {\n      closeBtn.addEventListener('click', toggle);\n      modal.addEventListener('click', handleBackdropClick);\n    };\n\n    const detachListeners = () => {\n      closeBtn.removeEventListener('click', toggle);\n      modal.removeEventListener('click', handleBackdropClick);\n    };\n\n    // Open modal - always listening:\n    openBtn.addEventListener('click', toggle);\n  };\n\n  // Modals init:\n  ['cheap', 'average', 'premium', 'premium-one'].forEach(setupModal);\n})();\n","import { refs } from './refs';\n\nlet lastY = window.scrollY;\n\nconst toggleHeaderOnScroll = () => {\n  const y = window.scrollY;\n  refs.header.classList.toggle('hide', y > lastY && y > 40);\n\n  // If moving - close header\n  if (y !== lastY) {\n    refs.mobileMenu.classList.remove('is-open');\n    refs.burger.classList.remove('hide');\n    refs.closeBtn.classList.replace('visible', 'hide');\n  }\n\n  lastY = y;\n};\n\nconst toggleButtons = isBurgerVisible => {\n  refs.burger.classList.toggle('hide', !isBurgerVisible);\n  refs.closeBtn.classList.toggle('hide', isBurgerVisible);\n  refs.closeBtn.classList.toggle('visible', !isBurgerVisible);\n};\n\nwindow.addEventListener('scroll', toggleHeaderOnScroll);\nrefs.burger.addEventListener('click', () => toggleButtons(false));\nrefs.closeBtn.addEventListener('click', () => toggleButtons(true));\n","import { refs } from './refs';\n\nconst resetHeaderLinksUnderlines = () =>\n  refs.navLinks.forEach(link => link.classList.remove('active-link'));\n\nconst observer = new IntersectionObserver(\n  entries => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        resetHeaderLinksUnderlines();\n\n        const id = entry.target.getAttribute('id');\n        if (!id) return;\n\n        const activeLink = document.querySelector(\n          `.header-nav-link[href=\"#${id}\"]`\n        );\n        if (activeLink) {\n          activeLink.classList.add('active-link');\n        }\n      }\n    });\n  },\n  {\n    threshold: [0, 0.25, 0.5],\n    rootMargin: '-30% 0px -60% 0px',\n    // threshold: [0, 0.25, 0.5],   //best option for now\n    // rootMargin: '-30% 0px -60% 0px',\n  }\n);\n\nrefs.sections.forEach(section => observer.observe(section));\n","(() => {\n  const setupToggle = name => {\n    const el = document.querySelector(`[data-${name}]`);\n    const openBtn = document.querySelector(`[data-${name}-open]`);\n    const closeBtn = document.querySelector(`[data-${name}-close]`);\n\n    if (!el || !openBtn || !closeBtn) return;\n\n    const toggle = () => {\n      const isOpen = el.classList.toggle('is-open');\n      console.log(isOpen);\n    };\n    openBtn.addEventListener('click', toggle);\n    closeBtn.addEventListener('click', toggle);\n  };\n\n  setupToggle('mobile');\n})();\n","import { refs } from './refs';\n\nlet lastScroll = window.scrollY;\nlet isVisible = false;\nlet scrollTimeout;\nlet hideTimeout;\n\nwindow.addEventListener('scroll', () => {\n  clearTimeout(scrollTimeout);\n\n  scrollTimeout = setTimeout(() => {\n    const currentScroll = window.scrollY;\n    const scrollingUp = currentScroll < lastScroll - 70;\n    const scrolledToBottom =\n      window.innerHeight + currentScroll >= document.body.offsetHeight - 10;\n\n    const shouldShow = scrolledToBottom || (scrollingUp && currentScroll > 350);\n\n    if (shouldShow && !isVisible) {\n      refs.scrollBtn.classList.add('visible');\n      isVisible = true;\n\n      clearTimeout(hideTimeout);\n      hideTimeout = setTimeout(() => {\n        refs.scrollBtn.classList.remove('visible');\n        isVisible = false;\n      }, 4700);\n    } else if (!shouldShow && isVisible) {\n      refs.scrollBtn.classList.remove('visible');\n      isVisible = false;\n      clearTimeout(hideTimeout);\n    }\n\n    lastScroll = currentScroll;\n  }, 70);\n});\n\nrefs.scrollBtn.addEventListener('click', () => {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});\n","import { refs } from './refs';\n\nrefs.header.addEventListener('mouseenter', () => {\n  refs.logo.classList.add('spin');\n\n  setTimeout(() => {\n    refs.logo.classList.remove('spin');\n  }, 3000);\n});\n"],"names":["refs","setupModal","name","modal","openBtn","closeBtn","toggle","attachListeners","detachListeners","handleBackdropClick","e","lastY","toggleHeaderOnScroll","y","toggleButtons","isBurgerVisible","resetHeaderLinksUnderlines","link","observer","entries","entry","id","activeLink","section","el","isOpen","lastScroll","isVisible","scrollTimeout","hideTimeout","currentScroll","scrollingUp","shouldShow"],"mappings":"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"}